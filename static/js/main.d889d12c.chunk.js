(this["webpackJsonpimdb-search-react"]=this["webpackJsonpimdb-search-react"]||[]).push([[0],{36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(11),r=n.n(s),i=n(14),o=n.n(i),j=n(23),l=n(5),d=n(3),b=(n(36),n(24)),m=n.n(b),u=n(0),h=function(e){var t=e.searchMovies;return Object(u.jsx)("div",{className:"searchContainer",children:Object(u.jsx)("div",{className:"searchCard",children:Object(u.jsxs)("div",{className:"searchbar",children:[Object(u.jsx)("div",{className:"searchIconDiv",children:Object(u.jsx)(m.a,{className:"magIcon"})}),Object(u.jsx)("div",{className:"inputDiv",children:Object(u.jsx)("input",{type:"text",name:"searchbar",id:"searchbar",placeholder:"Please enter movie ",className:"searchBarInp",onChange:function(e){return t(e.target.value)}})})]})})})},v=(n(43),n(44),n(26)),O=n.n(v),p=function(e){var t=e.nomination,n=e.setNominate;return Object(u.jsxs)("div",{className:"nominationCard",children:[Object(u.jsxs)("div",{className:"desc",children:[Object(u.jsx)("div",{className:"nomCardImg",children:Object(u.jsx)("img",{src:t.Poster,alt:t.imdbID})}),Object(u.jsxs)("div",{className:"nomTitle",children:[Object(u.jsx)("strong",{className:"nomination",children:t.Title}),Object(u.jsxs)("p",{children:["Year: ",t.Year]})]})]}),Object(u.jsx)("div",{className:"actionNom",children:Object(u.jsx)(O.a,{onClick:function(){return n(t.imdbID)}})})]})},x=n(27),f=n.n(x),g=n(28),N=n.n(g),I=(n(45),function(e){var t=e.totalPages,n=e.searchMovies,c=e.searchText,s=e.currentPage,r=Object(a.useState)([]),i=Object(d.a)(r,2),o=i[0],j=i[1],l=Object(a.useState)(),b=Object(d.a)(l,2),m=b[0],h=b[1],v=Object(a.useState)(),O=Object(d.a)(v,2),p=O[0],x=O[1],g=Object(a.useState)("1"),I=Object(d.a)(g,2),C=I[0],D=I[1],S=function(e){D(e);parseInt(e);var n,a=10*Math.floor(e/10)+1,c=a+9;if(parseInt(e)-10>0?h(10*Math.floor(parseInt(e)/10)):h("0"),console.log("pageStart: ".concat(a,", pageEnd: ").concat(c)),parseInt(e)+10<parseInt(t)){var r=10*Math.floor(parseInt(e)/10)+11;x(r),console.log("floorval:"+r)}else x(t);c>t&&(c=t);var i=[];for(n=a;n<=c;n++){var o={id:n,pageNumber:n,pageStatus:s===n};i.push(o)}j(i)},M=function(e){S(e),n(c,e)};return Object(a.useEffect)((function(){h("0"),x("11"),S(parseInt("1"))}),[s,t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"pageContainer",children:[parseInt(m)>0&&Object(u.jsx)("div",{className:"pgCard",onClick:function(){return M(m)},children:Object(u.jsx)(f.a,{})}),o.length>0&&o.map((function(e){return Object(u.jsx)("div",{className:C===e.pageNumber?"pgCard pgActive":"pgCard",children:Object(u.jsx)("span",{onClick:function(){return M(e.pageNumber)},children:e.pageNumber})},e.id)})),parseInt(t)!==parseInt(p)&&Object(u.jsx)("div",{className:"pgCard",onClick:function(){return M(p)},children:Object(u.jsx)(N.a,{})})]}),Object(u.jsxs)("div",{className:"pageDesc",children:[Object(u.jsx)("div",{className:"totPage",children:Object(u.jsxs)("span",{children:["Total pages: ",t]})}),Object(u.jsx)("div",{className:"currPage",children:Object(u.jsxs)("span",{children:["Current page: ",C]})})]})]})}),C=(n(46),n.p+"static/media/noImage.f59bf5f9.jpg"),D=function(e){var t=e.movie,n=e.setNominate,a=e.nomination;return Object(u.jsxs)("div",{className:"movieCard",children:[Object(u.jsx)("div",{className:"posterDiv",children:Object(u.jsx)("img",{src:"N/A"===t.Poster?C:t.Poster,alt:t.Title})}),Object(u.jsxs)("div",{className:"titleDiv",children:[Object(u.jsx)("div",{className:"movieDescDiv",children:Object(u.jsx)("h4",{children:t.Title})}),Object(u.jsxs)("div",{className:"otherDiv",children:[Object(u.jsx)("div",{className:"yearDiv",children:Object(u.jsxs)("h4",{children:["Year: ",t.Year]})}),Object(u.jsx)("div",{className:a?"btnDiv activenominate":"btnDiv",onClick:function(){return n(t.imdbID)},children:"Nominate"})]})]})]},t.imdbID)},S=(n(47),function(e){var t=e.searchText,n=e.movies,a=e.setNominate,c=e.nominations,s=e.totalPages,r=e.searchMovies;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"resMainContent",children:[Object(u.jsxs)("div",{className:"movieContainer",children:[Object(u.jsx)("div",{className:"searchTxt",children:Object(u.jsx)("p",{children:!(t.length>2||n.length>0)&&"at least 3 characters are required for a search..."})}),n.map((function(e,t){return Object(u.jsx)(D,{setNominate:a,movie:e,nomination:(n=c.filter((function(t){return t.imdbID===e.imdbID})),n.length>0)},t);var n}))]}),Object(u.jsxs)("div",{className:"nominationContainer",children:[Object(u.jsx)("div",{className:"nomConTitle",children:Object(u.jsx)("strong",{children:"Nominations"})}),c.length>0?c.map((function(e){return Object(u.jsx)(p,{nomination:e,setNominate:a},e.imdbID)})):Object(u.jsx)("span",{children:"no movies are nominated yet!"})]})]}),Object(u.jsx)(I,{totalPages:s,searchText:t,searchMovies:r})]})}),M="http://www.omdbapi.com/?type=movie&apikey=".concat("d66bde14","="),T=n(29),k=n.n(T);var P=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(d.a)(s,2),i=r[0],b=r[1],m=Object(a.useState)([]),v=Object(d.a)(m,2),O=v[0],p=v[1],x=Object(a.useState)(0),f=Object(d.a)(x,2),g=f[0],N=f[1],I=Object(a.useState)("1"),C=Object(d.a)(I,2),D=C[0],T=C[1],P=function(e){i.filter((function(t){return t.imdbID===e})).map((function(e){p([].concat(Object(l.a)(O),[e]))}))},y=function(e){var t=O.filter((function(t){return t.imdbID!==e}));p(t)},w=function(){var e=Object(j.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&console.log(n+" "+t),!(""!==t&&t.length>2)){e.next=10;break}return c(t),a=D,""===n&&null===n&&void 0===n||(a=n,console.log("pageNo from app : ".concat(a)),T(n)),s="".concat(M+t,"&page=").concat(a),e.next=8,k.a.get(s).then((function(e){if(N(Math.floor(parseInt(e.data.totalResults)/10)),"True"===e.data.Response){var t=[];e.data.Search.forEach((function(e){return t.push(e)})),b(t)}}));case 8:e.next=11;break;case 10:c("");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(h,{searchMovies:w}),Object(u.jsx)(S,{setNominate:function(e){0===O.filter((function(t){return t.imdbID===e})).length?O.length>4?alert("You are restricted to nominate 5 movies only"):P(e):y(e)},searchText:n,movies:i,nominations:O,totalPages:g,searchMovies:w})]})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.d889d12c.chunk.js.map